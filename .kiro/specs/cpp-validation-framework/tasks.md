# 実装計画

- [x] 1. プロジェクト構造とコアインターフェースの設定

  - C++98 準拠のプロジェクト構造を作成し、Makefile とビルドシステムを設定
  - IValidator、ValidationResult、ValidationContext などのコアインターフェースを定義
  - _要件: 1.1, 1.4, 5.1_

- [x] 2. データモデルと基本構造体の実装
- [x] 2.1 ValidationResult と Issue 構造体の実装

  - ValidationResult、Issue、ValidationContext の構造体を実装
  - 日英両言語対応のメッセージフィールドを含める
  - 単体テストを作成してデータ構造の正確性を検証
  - _要件: 6.1, 6.4_

- [x] 2.2 ModuleRules とエラーハンドリングの実装

  - ModuleRules 構造体と ValidationException 例外クラスを実装
  - ErrorCode 列挙型とエラー分類システムを作成
  - エラーハンドリングの単体テストを作成
  - _要件: 4.1, 4.2, 4.3_

- [x] 3. ValidationEngine の実装
- [x] 3.1 基本的な ValidationEngine クラスの作成

  - ValidationEngine クラスの基本構造を実装
  - 検証器の登録・管理機能を実装
  - 検証プロセスの調整ロジックを作成
  - _要件: 1.1, 5.2_

- [x] 3.2 並列処理とコンテキスト管理の実装

  - 複数検証器の並列実行機能を実装
  - ValidationContext の生成と管理機能を作成
  - スレッドプールによるリソース管理を実装
  - _要件: 5.2_

- [x] 4. ComplianceChecker の実装
- [x] 4.1 ForbiddenFeatureDetector の実装

  - C++11+機能検出のための正規表現パターンを定義
  - using namespace、friend、STL コンテナの検出ロジックを実装
  - 禁止機能検出の単体テストを作成
  - _要件: 1.2_

- [x] 4.2 CompilationValidator の実装

  - `-Wall -Wextra -Werror -std=c++98`フラグでのコンパイル検証を実装
  - コンパイルエラーの解析と詳細メッセージ生成機能を作成
  - コンパイル成功/失敗の判定ロジックを実装
  - _要件: 1.3, 1.4_

- [x] 4.3 ComplianceChecker の統合とテスト

  - ForbiddenFeatureDetector と CompilationValidator を統合
  - C++98 標準準拠チェックの包括的なテストスイートを作成
  - エラーメッセージの日英両言語対応を実装
  - _要件: 1.1, 1.2, 6.1_

- [ ] 5. MemoryAnalyzer の実装
- [ ] 5.1 プラットフォーム検出とツール選択の実装

  - macOS/Ubuntu 環境の自動検出機能を実装
  - AddressSanitizer/valgrind の選択ロジックを作成
  - IMemoryTool インターフェースを定義
  - _要件: 2.1, 2.2_

- [ ] 5.2 AddressSanitizer と Valgrind 統合の実装

  - AddressSanitizer を使用したメモリエラー検出を実装
  - Valgrind を使用したメモリリーク検出を実装
  - メモリ解析結果の解析と構造化を実装
  - _要件: 2.1, 2.2, 2.3_

- [ ] 5.3 メモリ解析結果の処理とレポート生成

  - メモリリーク情報（ファイル名、行番号、サイズ）の抽出を実装
  - メモリ管理合格/不合格の判定ロジックを作成
  - メモリ解析の包括的なテストスイートを作成
  - _要件: 2.3, 2.4_

- [ ] 6. ClassDesignValidator の実装
- [ ] 6.1 クラス定義の解析とパースの実装

  - C++ソースコードからクラス定義を抽出する機能を実装
  - クラスメンバ（コンストラクタ、デストラクタ、メンバ変数）の解析を実装
  - ClassDefinition 構造体とパーサーの単体テストを作成
  - _要件: 3.1, 3.2_

- [ ] 6.2 Orthodox Canonical Form チェッカーの実装

  - デフォルトコンストラクタ、コピーコンストラクタ、代入演算子、デストラクタの検証を実装
  - cpp02 以降のモジュールでの OCF 要件チェックを実装
  - OCF 違反の詳細なエラーメッセージ生成を実装
  - _要件: 3.1_

- [ ] 6.3 RAII 原則と encapsulation 検証の実装

  - RAII 原則違反の検出ロジックを実装
  - private/public アクセス制御の適切性を検証
  - クラス設計パターンの包括的なテストスイートを作成
  - _要件: 3.3, 3.4_

- [ ] 7. ModuleSpecificValidator の実装
- [ ] 7.1 モジュールルールエンジンの基盤実装

  - ModuleRuleEngine クラスの基本構造を実装
  - モジュール別ルール設定の読み込み機能を作成
  - モジュールタイプの判定ロジックを実装
  - _要件: 4.1_

- [ ] 7.2 cpp00 と cpp01 固有検証の実装

  - cpp00: namespace、クラス、メンバ関数の使用検証を実装
  - cpp01: メモリ割り当て、ポインタ、参照の使用検証を実装
  - モジュール固有の学習目標達成度チェックを実装
  - _要件: 4.2, 4.3_

- [ ] 7.3 cpp02-cpp04 固有検証と学習リソース提案の実装

  - cpp02-cpp04 の各モジュール固有要件検証を実装
  - 学習目標未達成時の具体的な学習リソース提案機能を実装
  - モジュール固有検証の包括的なテストスイートを作成
  - _要件: 4.4_

- [ ] 8. ReportGenerator とフィードバックシステムの実装
- [ ] 8.1 JSON 形式レポート生成の実装

  - ValidationResult から JSON 形式への変換機能を実装
  - タイムスタンプ付き結果保存機能を実装
  - CI/CD 統合のための適切な終了コードとログ出力を実装
  - _要件: 5.1, 5.3, 5.4_

- [ ] 8.2 多言語フィードバックシステムの実装

  - MessageLocalizer クラスを実装
  - 日本語・英語メッセージファイルの作成と読み込み機能を実装
  - 重要度別の色分け表示機能を実装
  - _要件: 6.1, 6.4_

- [ ] 8.3 教育的フィードバックと改善提案の実装

  - 具体的なコード例を含む改善提案生成機能を実装
  - 学習リソースへのリンク提供機能を実装
  - 建設的で教育的なフィードバックの包括的なテストを作成
  - _要件: 6.2, 6.3_

- [ ] 9. CLI インターフェースとユーザビリティの実装
- [ ] 9.1 コマンドライン引数処理の実装

  - 提出物パス、モジュール指定、出力形式などの引数処理を実装
  - ヘルプメッセージと使用方法の表示機能を実装
  - CLI 引数の検証とエラーハンドリングを実装
  - _要件: 1.1, 5.1_

- [ ] 9.2 進捗表示とユーザーフィードバックの実装

  - 検証進捗のリアルタイム表示機能を実装
  - 検証結果の見やすい表示フォーマットを実装
  - エラー時の詳細情報表示とトラブルシューティングガイドを実装
  - _要件: 6.4_

- [ ] 10. 統合テストとエンドツーエンドテストの実装
- [ ] 10.1 テストデータとサンプルコードの作成

  - 各モジュール（cpp00-cpp04）の正常・異常サンプルコードを作成
  - メモリリーク、禁止機能使用、クラス設計問題のテストケースを作成
  - 期待される検証結果のリファレンスデータを作成
  - _要件: 1.1, 2.1, 3.1, 4.1_

- [ ] 10.2 統合テストスイートの実装

  - ValidationEngine 全体の統合テストを実装
  - 複数検証器の連携動作テストを作成
  - パフォーマンステスト（大量ファイル処理）を実装
  - _要件: 5.2_

- [ ] 10.3 クロスプラットフォームテストの実装

  - macOS 環境での AddressSanitizer 動作テストを実装
  - Ubuntu 環境での Valgrind 動作テストを実装
  - CI/CD パイプラインでの自動テスト実行を設定
  - _要件: 2.1, 2.2, 5.3_

- [ ] 11. ドキュメントとデプロイメントの準備
- [ ] 11.1 ユーザードキュメントの作成

  - インストールガイドと使用方法のドキュメントを作成
  - 各検証機能の詳細説明とトラブルシューティングガイドを作成
  - 教育者向けの設定・カスタマイズガイドを作成
  - _要件: 6.3_

- [ ] 11.2 開発者ドキュメントとメンテナンスガイドの作成
  - アーキテクチャ設計書と拡張ガイドを作成
  - 新しい検証器の追加方法とプラグインシステムのドキュメントを作成
  - パフォーマンス最適化とセキュリティ考慮事項のガイドを作成
  - _要件: 5.2_
